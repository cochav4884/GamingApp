<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="styles/Home.css" />
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <title>Gaming App</title>
  </head>

  <body>
    <!-- Left Sidebar -->
    <div id="LobbySidebar" class="sidebar-left Lobby">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavLobby()"
        >&times;</a
      >
      <div class="lobby-title">Lobby</div>
      <section>
        Player List
        <ul>
          <li>Creator</li>
          <li>Host</li>
          <li>Player 1</li>
          <li>Player 2</li>
          <li>Player 3</li>
          <li>Player 4</li>
          <li>Player 5</li>
          <li>Player 6</li>
          <li>Player 7</li>
          <li>Player 8</li>
          <li>Player 9</li>
          <li>Player 10</li>
        </ul>
      </section>
      <div>
        Dice Box
        <div class="dice">Roll Dice</div>
      </div>
    </div>

    <!-- Left Sidebar Tab -->
    <div id="LobbyTab" class="sidebar-tab" onclick="openNavLobby()">Lobby</div>

    <!-- Right Sidebar #1 -->
    <div id="BackgroundSidebar" class="sidebar-right BackgroundImages">
      <a
        href="javascript:void(0)"
        class="closebtn"
        onclick="closeNavBackground()"
        >&times;</a
      >
      <div class="lobby-title">Background Images</div>
      <section>
        <ul id="backgroundList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #1 -->
    <div
      id="BackgroundTab"
      class="sidebar-tab-right BackgroundImages"
      onclick="openNavBackground()"
    >
      Background
    </div>

    <!-- Right Sidebar #2 -->
    <div id="ArrowBowSidebar" class="sidebar-right ArrowBow">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavArrowBow()"
        >&times;</a
      >
      <div class="lobby-title">Arrow/Bow</div>
      <section>
        Choose Asset
        <ul id="arrowbowList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #2 -->
    <div
      id="ArrowBowTab"
      class="sidebar-tab-right ArrowBowSidebarTab"
      onclick="openNavArrowBow()"
    >
      Arrow/Bow
    </div>

     <!-- Right Sidebar #3 -->
    <div id="AxeClubSidebar" class="sidebar-right AxeClub">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavAxeClub()"
        >&times;</a
      >
      <div class="lobby-title">Axe/Club</div>
      <section>
        Choose Asset
        <ul id="axeclubList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #3 -->
    <div
      id="AxeClubTab"
      class="sidebar-tab-right AxeClubSidebarTab"
      onclick="openNavAxeClub()"
    >
      Axe/Club
    </div>

    <!-- Right Sidebar #4 -->
    <div id="DaggerSidebar" class="sidebar-right Dagger">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavDagger()"
        >&times;</a
      >
      <div class="lobby-title">Dagger</div>
      <section>
        Choose Asset
        <ul id="daggerList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #4 -->
    <div
      id="DaggerTab"
      class="sidebar-tab-right DaggerSidebarTab"
      onclick="openNavDagger()"
    >
      Dagger
    </div>
  
    <!-- Right Sidebar #5 -->
    <div id="GemstoneSidebar" class="sidebar-right Gemstone">
      <a href="javascript:void(0)" class="closebtn" onclick="closeGemstone()"
        >&times;</a
      >
      <div class="lobby-title">Gemstone</div>
      <section>
        Choose Asset
        <ul id="gemstoneList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #5 -->
    <div
      id="GemstoneTab"
      class="sidebar-tab-right GemstoneSidebarTab"
      onclick="openNavGemstone()"
    >
      Gemstone
    </div>

      <!-- Right Sidebar #6 -->
    <div id="MagicStaffSidebar" class="sidebar-right MagicStaff">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavMagicStaff()"
        >&times;</a
      >
      <div class="lobby-title">MagicStaff</div>
      <section>
        Choose Asset
        <ul id="magicstaffList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #6 -->
    <div
      id="MagicStaffTab"
      class="sidebar-tab-right MagicStaffSidebarTab"
      onclick="openNavMagicStaff()"
    >
      MagicStaff
    </div>

      <!-- Right Sidebar #7 -->
    <div id="MapScrollSidebar" class="sidebar-right MapScroll">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavMapScroll()"
        >&times;</a
      >
      <div class="lobby-title">Map/Scroll</div>
      <section>
        Choose Asset
        <ul id="mapscrollList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #7 -->
    <div
      id="MapScrollTab"
      class="sidebar-tab-right MapScrollSidebarTab"
      onclick="openNavMapScroll()"
    >
      Map/Scroll
    </div>

      <!-- Right Sidebar #8 -->
    <div id="PotionSidebar" class="sidebar-right Potion">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavPotion()"
        >&times;</a
      >
      <div class="lobby-title">Potion</div>
      <section>
        Choose Asset
        <ul id="potionList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #8 -->
    <div
      id="PotionTab"
      class="sidebar-tab-right PotionSidebarTab"
      onclick="openNavPotion()"
    >
      Potion
    </div>

    <!-- Right Sidebar #9 -->
    <div id="ShieldSidebar" class="sidebar-right Shield">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavShield()"
        >&times;</a
      >
      <div class="lobby-title">Shield</div>
      <section>
        Choose Asset
        <ul id="shieldList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #9 -->
    <div
      id="ShieldTab"
      class="sidebar-tab-right ShieldSidebarTab"
      onclick="openNavShield()"
    >
      Shield
    </div>

    <!-- Right Sidebar #10 -->
    <div id="SwordSidebar" class="sidebar-right Sword">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavSword()"
        >&times;</a
      >
      <div class="lobby-title">Sword</div>
      <section>
        Choose Asset
        <ul id="swordList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #10 -->
    <div
      id="SwordTab"
      class="sidebar-tab-right SwordSidebarTab"
      onclick="openNavSword()"
    >
      Sword
    </div>

    <!-- Right Sidebar #11 -->
    <div id="TreasureSidebar" class="sidebar-right Treasure">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNavTreasure()"
        >&times;</a
      >
      <div class="lobby-title">Treasure</div>
      <section>
        Choose Asset
        <ul id="treasureList"></ul>
      </section>
    </div>

    <!-- Right Sidebar Tab #11 -->
    <div
      id="TreasureTab"
      class="sidebar-tab-right TreasureSidebarTab"
      onclick="openNavTreasure()"
    >
      Treasure
    </div>

    <!-- Main content -->
    <div id="main">
      <h1>Battlefield</h1>

      <!-- Battlefield container -->
      <div id="battlefield">
        <!-- Grid squares will be generated dynamically by JS -->
        <div id="gridOverlay" class="grid-overlay"></div>

        <!-- Fullscreen buttons -->
        <button id="fullscreenBtn" type="button" class="btn btn-secondary">
          FullScreen
        </button>
        <button
          id="exitFullscreenBtn"
          type="button"
          class="btn btn-danger hidden"
        >
          Exit FullScreen
        </button>
      </div>

      <p>
        Main content area. Open any sidebar using the tabs. Both right sidebars
        are independent.
      </p>
    </div>

    <script>
      // -------------------- Sidebar Functions --------------------
      function openNavLobby() {
        document.getElementById("LobbySidebar").style.width = "250px";
        document.getElementById("main").classList.add("left-open");
        document.getElementById("LobbyTab").style.display = "none";
      }
      function closeNavLobby() {
        document.getElementById("LobbySidebar").style.width = "0";
        document.getElementById("main").classList.remove("left-open");
        document.getElementById("LobbyTab").style.display = "block";
      }

      function openNavBackground() {
        document.getElementById("BackgroundSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right1-open");
        document.getElementById("BackgroundTab").style.display = "none";
      }
      function closeNavBackground() {
        document.getElementById("BackgroundSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right1-open");
        document.getElementById("BackgroundTab").style.display = "block";
      }

      function openNavArrowBow() {
        document.getElementById("ArrowBowSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right2-open");
        document.getElementById("ArrowBowTab").style.display = "none";
      }
      function closeNavArrowBow() {
        document.getElementById("ArrowBowSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right2-open");
        document.getElementById("ArrowBowTab").style.display = "block";
      }

function openNavAxeClub() {
        document.getElementById("AxeClubSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right3-open");
        document.getElementById("AxeClubTab").style.display = "none";
      }
      function closeNavAxeClub() {
        document.getElementById("AxeClubSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right3-open");
        document.getElementById("AxeClubTab").style.display = "block";
      }

function openNavDagger() {
        document.getElementById("DaggerSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right4-open");
        document.getElementById("DaggerTab").style.display = "none";
      }
      function closeNavDagger() {
        document.getElementById("DaggerSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right4-open");
        document.getElementById("DaggerTab").style.display = "block";
      }

      function openNavGemstone() {
        document.getElementById("GemstoneSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right5-open");
        document.getElementById("GemstoneTab").style.display = "none";
      }
      function closeNavGemstone() {
        document.getElementById("GemstoneSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right5-open");
        document.getElementById("GemstoneTab").style.display = "block";
      }

      function openNavMagicStaff() {
        document.getElementById("MagicStaffSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right6-open");
        document.getElementById("MagicStaffTab").style.display = "none";
      }
      function closeNavMagicStaff() {
        document.getElementById("MagicStaffSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right6-open");
        document.getElementById("MagicStaffTab").style.display = "block";
      }

      function openNavMapScroll() {
        document.getElementById("MapScrollSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right7-open");
        document.getElementById("MapScrollTab").style.display = "none";
      }
      function closeNavMapScroll() {
        document.getElementById("MapScrollSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right7-open");
        document.getElementById("MapScrollTab").style.display = "block";
      }

      function openNavPotion() {
        document.getElementById("PotionSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right8-open");
        document.getElementById("PotionTab").style.display = "none";
      }
      function closeNavPotion() {
        document.getElementById("PotionSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right8-open");
        document.getElementById("PotionTab").style.display = "block";
      }

      function openNavShield() {
        document.getElementById("ShieldSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right9-open");
        document.getElementById("ShieldTab").style.display = "none";
      }
      function closeNavShield() {
        document.getElementById("ShieldSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right9-open");
        document.getElementById("ShieldTab").style.display = "block";
      }

      function openNavSword() {
        document.getElementById("SwordSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right10-open");
        document.getElementById("SwordTab").style.display = "none";
      }
      function closeNavSword() {
        document.getElementById("SwordSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right10-open");
        document.getElementById("SwordTab").style.display = "block";
      }

      function openNavTreasure() {
        document.getElementById("TreasureSidebar").style.width = "250px";
        document.getElementById("main").classList.add("right11-open");
        document.getElementById("TreasureTab").style.display = "none";
      }
      function closeNavTreasure() {
        document.getElementById("TreasureSidebar").style.width = "0";
        document.getElementById("main").classList.remove("right11-open");
        document.getElementById("TreasureTab").style.display = "block";
      }

      // -------------------- Fullscreen --------------------
      const battlefield = document.getElementById("battlefield");
      const fullscreenBtn = document.getElementById("fullscreenBtn");
      const exitFullscreenBtn = document.getElementById("exitFullscreenBtn");

      fullscreenBtn.addEventListener("click", () => {
        battlefield.classList.add("fullscreen");
        fullscreenBtn.style.display = "none";
        exitFullscreenBtn.style.display = "block";
      });

      exitFullscreenBtn.addEventListener("click", () => {
        battlefield.classList.remove("fullscreen");
        fullscreenBtn.style.display = "block";
        exitFullscreenBtn.style.display = "none";
      });

      // -------------------- Backgrounds --------------------

      // Set the battlefield background
      function setBattlefieldBackground(imagePath) {
        const battlefield = document.getElementById("battlefield");
        battlefield.style.backgroundImage = `url('${imagePath}')`;
        battlefield.style.backgroundSize = "cover";
        battlefield.style.backgroundPosition = "center";
      }

      // Array of all background image filenames
      const backgroundImages = [
        "Abandoned-Building.jpg",
        "Abandoned-Quarry.jpg",
        "Abandoned-Village.jpg",
        "Acid-Cave.jpg",
        "Amethyst-Fortress.jpg",
        "Ancient-Courtyard.jpg",
        "Beach-Cove.jpg",
        "Beach-Front.jpg",
        "Brimstone-Path.jpg",
        "Brimstone-Plateu.jpg",
        "Cathedral-Ruins.jpg",
        "Demon-Lair.jpg",
        "Dessert-Ruins.jpg",
        "Farm.jpg",
        "Farm-2.jpg",
        "Forest-Glade.jpg",
        "Forest-Ruins.jpg",
        "Forgotten-Crypt.jpg",
        "Forgotten-Monastery.jpg",
        "Fort.jpg",
        "Fort-2.jpg",
        "Galleon-Ship.jpg",
        "Glacier-Castle.jpg",
        "Haunted-Garden.jpg",
        "Infernal-Tomb.jpg",
        "Jungle-Path.jpg",
        "Jungle-Ruins.jpg",
        "Jungle-Ruins-2.jpg",
        "Lost-Temple.jpg",
        "Market.jpg",
        "Market-2.jpg",
        "Moat-Checkpoint.jpg",
        "Multen-Arena.jpg",
        "Nest.jpg",
        "Obsidian-Fortress.jpg",
        "Reprieve.jpg",
        "River-Crossings.jpg",
        "River-Fort.jpg",
        "Rocky-Path.jpg",
        "Rose-Court.jpg",
        "Ship-Yard.jpg",
        "Shipwreck.jpg",
        "Slate-Path.jpg",
        "Snow-Fort.jpg",
        "Snow-Fort-2.jpg",
        "Spider-Cave.jpg",
        "Spider-Dwelling.jpg",
        "Spider-Fortress.jpg",
        "Stone-Beach.jpg",
        "Twisting-Trail.jpg",
        "Typical-Tavern.jpg",
        "Village.jpg",
        "War-Zone.jpg",
        "War-Zone-2.jpg",
        "Winter-Forest.jpg",
        "Winter-Forest-2.jpg",
        // Add all other filenames up to 56
      ];

      // Generate the list dynamically
      const backgroundList = document.getElementById("backgroundList");

      backgroundImages.forEach((image) => {
        const li = document.createElement("li");
        li.textContent = image.replace(/-/g, " ").replace(".jpg", ""); // Clean display name
        li.style.cursor = "pointer";
        li.onclick = () => setBattlefieldBackground(`images/${image}`);
        backgroundList.appendChild(li);
      });

      // -------------------- ArrowBow Assets --------------------
  const arrowbowAssets = [
    { id: 1, name: "arrow_01", image: "assets/arrowBowImages/arrow_01.png", x: null, y: null, found: false },
    { id: 2, name: "arrow_02", image: "assets/arrowBowImages/arrow_02.png", x: null, y: null, found: false },
    { id: 3, name: "arrow_03", image: "assets/arrowBowImages/arrow_03.png", x: null, y: null, found: false },
    { id: 4, name: "arrow_04", image: "assets/arrowBowImages/arrow_04.png", x: null, y: null, found: false },
    { id: 5, name: "arrow_05", image: "assets/arrowBowImages/arrow_05.png", x: null, y: null, found: false },
    { id: 6, name: "arrow_06", image: "assets/arrowBowImages/arrow_06.png", x: null, y: null, found: false },
    { id: 7, name: "arrow_07", image: "assets/arrowBowImages/arrow_07.png", x: null, y: null, found: false },
    { id: 8, name: "arrow_08", image: "assets/arrowBowImages/arrow_08.png", x: null, y: null, found: false },
    { id: 9, name: "arrow_09", image: "assets/arrowBowImages/arrow_09.png", x: null, y: null, found: false },
    { id: 10, name: "arrow_10", image: "assets/arrowBowImages/arrow_10.png", x: null, y: null, found: false },

    { id: 11, name: "bolt_01", image: "assets/arrowBowImages/bolt_01.png", x: null, y: null, found: false },
    { id: 12, name: "bolt_02", image: "assets/arrowBowImages/bolt_02.png", x: null, y: null, found: false },
    { id: 13, name: "bolt_03", image: "assets/arrowBowImages/bolt_03.png", x: null, y: null, found: false },
    { id: 14, name: "bolt_04", image: "assets/arrowBowImages/bolt_04.png", x: null, y: null, found: false },
    { id: 15, name: "bolt_05", image: "assets/arrowBowImages/bolt_05.png", x: null, y: null, found: false },
    { id: 16, name: "bolt_06", image: "assets/arrowBowImages/bolt_06.png", x: null, y: null, found: false },
    { id: 17, name: "bolt_07", image: "assets/arrowBowImages/bolt_07.png", x: null, y: null, found: false },
    { id: 18, name: "bolt_08", image: "assets/arrowBowImages/bolt_08.png", x: null, y: null, found: false },
    { id: 19, name: "bolt_09", image: "assets/arrowBowImages/bolt_09.png", x: null, y: null, found: false },
    { id: 20, name: "bolt_10", image: "assets/arrowBowImages/bolt_10.png", x: null, y: null, found: false },

    { id: 21, name: "bow_01", image: "assets/arrowBowImages/bow_01.png", x: null, y: null, found: false },
    { id: 22, name: "bow_02", image: "assets/arrowBowImages/bow_02.png", x: null, y: null, found: false },
    { id: 23, name: "bow_03", image: "assets/arrowBowImages/bow_03.png", x: null, y: null, found: false },
    { id: 24, name: "bow_04", image: "assets/arrowBowImages/bow_04.png", x: null, y: null, found: false },
    { id: 25, name: "bow_05", image: "assets/arrowBowImages/bow_05.png", x: null, y: null, found: false },
    { id: 26, name: "bow_06", image: "assets/arrowBowImages/bow_06.png", x: null, y: null, found: false },
    { id: 27, name: "bow_07", image: "assets/arrowBowImages/bow_07.png", x: null, y: null, found: false },
    { id: 28, name: "bow_08", image: "assets/arrowBowImages/bow_08.png", x: null, y: null, found: false },
    { id: 29, name: "bow_09", image: "assets/arrowBowImages/bow_09.png", x: null, y: null, found: false },
    { id: 30, name: "bow_10", image: "assets/arrowBowImages/bow_10.png", x: null, y: null, found: false },
    { id: 31, name: "bow_11", image: "assets/arrowBowImages/bow_11.png", x: null, y: null, found: false },
    { id: 32, name: "bow_12", image: "assets/arrowBowImages/bow_12.png", x: null, y: null, found: false },
    { id: 33, name: "bow_13", image: "assets/arrowBowImages/bow_13.png", x: null, y: null, found: false },
    { id: 34, name: "bow_14", image: "assets/arrowBowImages/bow_14.png", x: null, y: null, found: false },
    { id: 35, name: "bow_15", image: "assets/arrowBowImages/bow_15.png", x: null, y: null, found: false },
    { id: 36, name: "bow_16", image: "assets/arrowBowImages/bow_16.png", x: null, y: null, found: false },
    { id: 37, name: "bow_17", image: "assets/arrowBowImages/bow_17.png", x: null, y: null, found: false },
    { id: 38, name: "bow_18", image: "assets/arrowBowImages/bow_18.png", x: null, y: null, found: false },
    { id: 39, name: "bow_19", image: "assets/arrowBowImages/bow_19.png", x: null, y: null, found: false },
    { id: 40, name: "bow_20", image: "assets/arrowBowImages/bow_20.png", x: null, y: null, found: false },

    { id: 41, name: "crossbow_01", image: "assets/arrowBowImages/crossbow_01.png", x: null, y: null, found: false },
    { id: 42, name: "crossbow_02", image: "assets/arrowBowImages/crossbow_02.png", x: null, y: null, found: false },
    { id: 43, name: "crossbow_03", image: "assets/arrowBowImages/crossbow_03.png", x: null, y: null, found: false },
    { id: 44, name: "crossbow_04", image: "assets/arrowBowImages/crossbow_04.png", x: null, y: null, found: false },
    { id: 45, name: "crossbow_05", image: "assets/arrowBowImages/crossbow_05.png", x: null, y: null, found: false },
    { id: 46, name: "crossbow_06", image: "assets/arrowBowImages/crossbow_06.png", x: null, y: null, found: false },
    { id: 47, name: "crossbow_07", image: "assets/arrowBowImages/crossbow_07.png", x: null, y: null, found: false },
    { id: 48, name: "crossbow_08", image: "assets/arrowBowImages/crossbow_08.png", x: null, y: null, found: false },
    { id: 49, name: "crossbow_09", image: "assets/arrowBowImages/crossbow_09.png", x: null, y: null, found: false },
    { id: 50, name: "crossbow_10", image: "assets/arrowBowImages/crossbow_10.png", x: null, y: null, found: false }
  ];

  const arrowbowList = document.getElementById("arrowbowList");

  arrowbowAssets.forEach((asset) => {
    const li = document.createElement("li");
    li.classList.add("asset-item");
    li.draggable = true;
    li.dataset.id = asset.id;
    li.style.cursor = "grab";

    // Asset image
    if (asset.image) {
      const img = document.createElement("img");
      img.src = asset.image;
      img.alt = asset.name;
      img.classList.add("asset-icon");
      li.appendChild(img);
    }

    // Asset name
    const span = document.createElement("span");
    span.textContent = asset.name;
    li.appendChild(span);

    // Drag event
    li.addEventListener("dragstart", (e) => {
      e.dataTransfer.setData("text/plain", asset.id);
    });

    arrowbowList.appendChild(li);
  });

      // -------------------- Grid Squares --------------------
      const gridOverlay = document.createElement("div");
      gridOverlay.id = "gridOverlay";
      gridOverlay.style.position = "absolute";
      gridOverlay.style.top = 0;
      gridOverlay.style.left = 0;
      gridOverlay.style.width = "100%";
      gridOverlay.style.height = "100%";
      document.getElementById("battlefield").appendChild(gridOverlay);

      const gridWidth = 50; // number of squares horizontally
      const gridHeight = 50; // number of squares vertically

      for (let y = 0; y < gridHeight; y++) {
        for (let x = 0; x < gridWidth; x++) {
          const square = document.createElement("div");
          square.classList.add("grid-square");
          square.dataset.x = x;
          square.dataset.y = y;

          square.addEventListener("dragover", (e) => e.preventDefault());

          square.addEventListener("drop", (e) => {
            e.preventDefault();
            const assetId = e.dataTransfer.getData("text/plain");
            const asset = assets.find((a) => a.id == assetId);

            // Remove previous asset if already placed
            square.innerHTML = "";

            // Place the icon image in the square
            const img = document.createElement("img");
            img.src = asset.image;
            img.alt = asset.name;
            img.classList.add("placed-asset-img");
            square.appendChild(img);

            // Update asset coordinates
            asset.x = square.dataset.x;
            asset.y = square.dataset.y;
            asset.found = true;

            console.log(`Placed ${asset.name} at (${asset.x}, ${asset.y})`);
          });

          gridOverlay.appendChild(square);
        }
      }
    </script>
  </body>
</html>